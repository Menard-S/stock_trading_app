<h1>Admin Dashboard</h1>
<%= button_to "Add new trader", new_user_invitation_path, method: :get %>

<h2>Pending Traders</h2>
<% if @pending_users.any? %>
  <ul>
    <% @pending_users.each do |user| %>
      <li>
        <%= user.email %> -
        <%= button_to 'Activate', activate_admin_user_path(user), method: :patch %>
        <%= button_to 'Deactivate', deactivate_admin_user_path(user), method: :patch, data: { confirm: 'Are you sure?' } %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No pending traders.</p>
<% end %>

<h2>Approved Traders</h2>
<% if @approved_users.any? %>
  <table>
    <tr>
      <th>Name</th>
      <th>Email</th>
      <th>Actions</th>
    </tr>
    <% @approved_users.each do |user| %>
      <tr>
        <td><%= user.name %></td>
        <td><%= user.email %></td>
        <td><%= link_to 'Edit', edit_admin_user_path(user) %> | <%= link_to 'Show details', admin_user_path(user) %> </td>
      </tr>
    <% end %>
  </table>
<% else %>
  <p>No approved users.</p>
<% end %>

<%= link_to 'View all transactions', admin_transactions_path %>
<%= link_to 'Back to home', root_path %>